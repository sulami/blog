<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Pipe Madness: Finding Kernel Slackers</title>
    <link rel="stylesheet" href="https://sulami.github.io/theme/css/main.css" />
    <link href="https://sulami.github.io/feed/atom.xml" type="application/atom+xml" rel="alternate" title="sulami's blog Atom Feed" />
    <link href="https://sulami.github.io/feed/rss.xml" type="application/rss+xml" rel="alternate" title="sulami's blog RSS Feed" />

    <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body id="index" class="home">
    <header id="banner" class="body">
            <nav>
            <a href="https://sulami.github.io/">sulami's blog</a> |
                <a href="https://sulami.github.io/pages/about-me.html">About me</a>
                <a href="https://sulami.github.io/category/coding.html">Coding</a>
                <a href="https://sulami.github.io/category/games.html">Games</a>
                <a href="https://sulami.github.io/category/hardware.html">Hardware</a>
                <a href="https://sulami.github.io/category/linux.html">Linux</a>
                <a href="https://sulami.github.io/category/web.html">Web</a>
            <a href="https://sulami.github.io/feed/rss.xml">RSS</a>
            </nav>
    </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        >>
        <a href="https://sulami.github.io/pipe-madness-finding-kernel-slackers.html" rel="bookmark"
           title="Permalink to Pipe Madness: Finding Kernel Slackers">Pipe Madness: Finding Kernel Slackers</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
    <span class="date">Mo 02 Juni 2014</span>
    |
    in <a href="https://sulami.github.io/category/linux.html">Linux</a>
    | tags: <a href="https://sulami.github.io/tag/pipemadness.html">pipemadness</a> <a href="https://sulami.github.io/tag/cli.html">cli</a> <a href="https://sulami.github.io/tag/kernel.html">kernel</a> </footer><!-- /.post-info -->
      <p>This is going to be a new series in which I showcase to horrible abominations
of shell pipelines I make up on the fly while working. This one is for finding
files in the Linux Kernel that produce extraordinary many warnings and errors
when pushed into checkpatch.pl, the kernel stylecheck script. There is probably
some better way of doing this, especially a faster way, but here we go:</p>
<div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%">find drivers<span style="color: #666666">/</span>staging<span style="color: #666666">/</span> <span style="color: #666666">-</span>iname <span style="color: #4070a0">&quot;*.c&quot;</span> <span style="color: #666666">|</span> xargs scripts<span style="color: #666666">/</span>checkpatch.pl <span style="color: #666666">--</span>terse <span style="color: #666666">-</span>f <span style="color: #666666">|</span> cut <span style="color: #666666">-</span>d <span style="color: #4070a0">&quot;:&quot;</span> <span style="color: #666666">-</span>f <span style="color: #40a070">1</span> <span style="color: #666666">|</span> uniq <span style="color: #666666">-</span>c <span style="color: #666666">|</span> grep <span style="color: #666666">-</span>v <span style="border: 1px solid #FF0000">&#39;</span>total<span style="border: 1px solid #FF0000">&#39;</span> <span style="color: #666666">|</span> sort <span style="color: #666666">-</span>n
</pre></div>


<p>This one runs on drivers/staging and sorts the worst files last. Also, it only
checks .c files. Takes some minutes to run on my Haswell Xeon with a SSD and
plenty of RAM.</p>
    </div><!-- /.entry-content -->
  </article>
</section>
</body>
</html>
