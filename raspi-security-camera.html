<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>RasPi: security camera</title>
    <link rel="stylesheet" href="https://sulami.github.io/theme/css/main.css" />
    <link href="https://sulami.github.io/feed/rss.xml" type="application/rss+xml" rel="alternate" title="/dev/urandom > blog RSS Feed" />

    <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body id="index" class="home">
    <header id="banner" class="body">
            <nav>
            <a href="https://sulami.github.io/">/dev/urandom > blog</a> |
                <a href="https://sulami.github.io/pages/about-me.html">About me</a>
                <a href="https://sulami.github.io/category/coding.html">Coding</a>
                <a href="https://sulami.github.io/category/games.html">Games</a>
                <a href="https://sulami.github.io/category/hardware.html">Hardware</a>
                <a href="https://sulami.github.io/category/linux.html">Linux</a>
                <a href="https://sulami.github.io/category/web.html">Web</a>
            <a href="https://sulami.github.io/feed/rss.xml">RSS</a>
            </nav>
    </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        >>
        <a href="https://sulami.github.io/raspi-security-camera.html" rel="bookmark"
           title="Permalink to RasPi: security camera">RasPi: security camera</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
    <span class="date">2013-05-24 09:56</span>
    |
    in <a href="https://sulami.github.io/category/linux.html">Linux</a>
    | tags: <a href="https://sulami.github.io/tag/raspberrypi.html">raspberrypi</a> <a href="https://sulami.github.io/tag/vlc.html">vlc</a> </footer><!-- /.post-info -->
      <p>Today I dug out my 2011 Raspberry Pi Model B (the first edition with
256M ram) and reimaged my SD-card. This time I wanted to try out
<a href="http://www.raspberrypi.org/downloads" title="RasPi">Raspian</a>, after only using ArchARM before. WOrked out pretty well, I
am somewhat lucky because the SSH-server is enabled by default, because
I happen do not own a HDMI-monitor. My first idea was to use a really
old webcam (VGA, nearly 10 years old, no Windows drivers existent
anymore) and stream it to my network. The more or less intelligent
choice was to use vlc for capturing and encoding, which made it quite
easy.</p>
<p>First, we install vlc on our Pi, I am running headless (without X) via
SSH:</p>
<div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%">sudo apt<span style="color: #666666">-</span>get update
sudo apt<span style="color: #666666">-</span>get install vlc
</pre></div>


<p>Then we connect the webcam and start our stream:</p>
<div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%">clvc v4l2<span style="color: #666666">:</span><span style="color: #60a0b0; font-style: italic">///dev/video0 --sout &#39;#standard{access=http,mux=ogg,dst=192.168.178.44:8080}&#39;</span>
</pre></div>


<p>I used HTTP-streaming because it is pretty straight forward and okay for
my hobby project, UDP multicasts are probably better. The destination-IP
is the internal IP of the Pi. Then I open vlc on my machine and open a
network stream (ctrl-n), http://192.168.178.44:8080 and voila:</p>
<p><img alt="picam" src="/images/picam-1024x435.png" /></p>
    </div><!-- /.entry-content -->
  </article>
</section>
</body>
</html>
